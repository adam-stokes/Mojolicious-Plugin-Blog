<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Mojolicious::Plugin::Blog by battlemidget</title>
    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script src="javascripts/respond.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!--[if lt IE 8]>
    <link rel="stylesheet" href="stylesheets/ie.css">
    <![endif]-->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

  </head>
  <body>
      <div id="header">
        <nav>
          <li class="fork"><a href="https://github.com/battlemidget/Mojolicious-Plugin-Blog">View On GitHub</a></li>
          <li class="downloads"><a href="https://github.com/battlemidget/Mojolicious-Plugin-Blog/zipball/master">ZIP</a></li>
          <li class="downloads"><a href="https://github.com/battlemidget/Mojolicious-Plugin-Blog/tarball/master">TAR</a></li>
          <li class="title">DOWNLOADS</li>
        </nav>
      </div><!-- end header -->

    <div class="wrapper">

      <section>
        <div id="title">
          <h1>Mojolicious::Plugin::Blog</h1>
          <p>Blog plugin for Mojolicious - quick, simple, ready to go.</p>
          <hr>
          <span class="credits left">Project maintained by <a href="https://github.com/battlemidget">battlemidget</a></span>
          <span class="credits right">Hosted on GitHub Pages &mdash; Theme by <a href="http://twitter.com/#!/michigangraham">mattgraham</a></span>
        </div>

        <p>NAME
    Mojolicious::Plugin::Blog - Mojolicious Plugin</p>

<p>SYNOPSIS
      # Mojolicious</p>

<pre><code>  # Set authentication condition
  my $conditions = {
    authenticated =&gt; sub {
        my $self = shift;
        unless ($self-&gt;session('authenticated')) {
            $self-&gt;flash(
                class   =&gt; 'alert alert-info',
                message =&gt; 'Please log in first!'
            );
            $self-&gt;redirect_to('/login');
            return;
        }
        return 1;
    },
  };

  $self-&gt;plugin('Blog' =&gt; {
      authCondition =&gt; $conditions
      dsn =&gt; "dbi:SQLite:dbname=db/myblog.db",
    }
  );

  # Mojolicious::Lite
  plugin 'Blog' =&gt; {
    authCondition =&gt; $conditions,
    dsn =&gt; "dbi:SQLite:dbname=db/myblog.db",
  };

  # Pre-populate db
  ./bin/mojo-blog-db sqlite db/myblog.db

  # Running the example
  morbo ./eg/tiniblog

  # See available routes
  ./eg/tiniblog routes
</code></pre>

<h3>
<a name="description" class="anchor" href="#description"><span class="octicon octicon-link"></span></a>DESCRIPTION</h3>

<pre><code>Mojolicious::Plugin::Blog is a Mojolicious plugin. The database layer is
using DBIx::ResultSet so support for most databases is available. The
examples in this distribution utilize Postgres.
</code></pre>

<h3>
<a name="options" class="anchor" href="#options"><span class="octicon octicon-link"></span></a>OPTIONS</h3>

<pre><code>The blog options provide the gateway into defining your routes, database
connection, authentication conditions, blog title, slogan, and more.
</code></pre>

<p>`title'</p>

<pre><code>Your blog title.
</code></pre>

<p>`slogan'</p>

<pre><code>Blog slogan.
</code></pre>

<p>`author'</p>

<pre><code>Who are you?
</code></pre>

<p>`contact'</p>

<pre><code>Your email
</code></pre>

<p>`tz'</p>

<pre><code>What timezone are you? e.g. 'America/New_York' for EST.
</code></pre>

<p>`social'
    Not implemented yet. However, support for integrating github, coderwall,
    twitter, and others coming soon.</p>

<pre><code>    # Social Integration options
    social =&gt; {
        github    =&gt; 'battlemidget',
        coderwall =&gt; 'battlemidget',
        twitter   =&gt; 'ajscg',
    },
</code></pre>

<p>`dsn'</p>

<pre><code>Database URI
</code></pre>

<p>`dbuser'</p>

<pre><code>Database User
</code></pre>

<p>`dbpass'</p>

<pre><code>Database password
</code></pre>

<p>`dbconn'</p>

<pre><code>Database connection, doesn't need to be manually set.
</code></pre>

<p>`dbrs'</p>

<pre><code>Database Resultset, again doesn't need to be set unless you implement
your own database layer.
</code></pre>

<p>`indexPath'</p>

<pre><code>Blog index route
</code></pre>

<p>`archivePath'</p>

<pre><code>Blog archive path
</code></pre>

<p>`postPath'</p>

<pre><code>Blog detail post path
</code></pre>

<p>`adminPathPrefix'</p>

<pre><code>Blog admin prefix route
</code></pre>

<p>`namespace'</p>

<pre><code>Blog controller namespace.
</code></pre>

<p>`authCondition'</p>

<pre><code>Router bridge for authencating the blog admin section. See the SYNOPSIS
for example.
</code></pre>

<p>`renderType'</p>

<pre><code>Not Implemented, however the thought behind this was to allow return
JSON in case someone wanted to override existing templates.
</code></pre>

<h3>
<a name="methods" class="anchor" href="#methods"><span class="octicon octicon-link"></span></a>METHODS</h3>

<pre><code>Mojolicious::Plugin::Blog inherits all methods from Mojolicious::Plugin
and implements the following new ones.
</code></pre>

<p>register</p>

<pre><code>$plugin-&gt;register(Mojolicious-&gt;new);
Register plugin in Mojolicious application.
</code></pre>

<h3>
<a name="what-works" class="anchor" href="#what-works"><span class="octicon octicon-link"></span></a>WHAT WORKS</h3>

<pre><code>Examples are included to show a working copy of the blog plugin for
viewing blog posts, creating/updating/deleting posts. As well as a
elementary way of authenticating to show the working admin portion.
</code></pre>

<h3>
<a name="todo" class="anchor" href="#todo"><span class="octicon octicon-link"></span></a>TODO</h3>

<pre><code>* Add form validation
* Make default pages look less 1990s.
</code></pre>

<h3>
<a name="goals" class="anchor" href="#goals"><span class="octicon octicon-link"></span></a>GOALS</h3>

<pre><code>Hopefully make this as database agnostic as possible and the overall
plugin a useful starting point for those wishing to implement a blog in
Mojolicious.
</code></pre>

<h3>
<a name="patches" class="anchor" href="#patches"><span class="octicon octicon-link"></span></a>PATCHES</h3>

<pre><code>I love patches and community involvement, so please get involved and
submit pull requests and issues at

https://github.com/battlemidget/Mojolicious-Plugin-Blog
</code></pre>

<h3>
<a name="see-also" class="anchor" href="#see-also"><span class="octicon octicon-link"></span></a>SEE ALSO</h3>

<pre><code>Mojolicious, Mojolicious::Guides, http://mojolicio.us.
</code></pre>

<h3>
<a name="copyright-and-license" class="anchor" href="#copyright-and-license"><span class="octicon octicon-link"></span></a>COPYRIGHT AND LICENSE</h3>

<pre><code>This plugin is copyright (c) 2013 by Adam Stokes &lt;adamjs@cpan.org&gt;

This is free software; you can redistribute it and/or modify it under
the same terms as the Perl 5 programming language system itself.

Mojolicious is copyright (c) 2013 Sebastian Riedel &lt;sri@cpan.org&gt;
</code></pre>
      </section>

    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
    
  </body>
</html>